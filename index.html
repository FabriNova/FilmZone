<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>FilmZone</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <!--Encabezado de la página-->
    <header>
        <h1>FilmZone</h1>
        <form>
            <input type="text" placeholder="Buscar Pelìcula...">
            <button type="submit"> Buscar</button>
        </form>
    </header>

    <!--Contenedor principal (sidebar + contenedor)-->
    <div class="contenedor">

        <!--Barra lateal-->
        <aside>
            <h2>Menù</h2>
            <nav>
                <ul>
                    <li><a href="#">Inicio</a></li>
                    <li><a href="#">Favoritos</a></li>
                    <li><a href="#">Historial</a></li>
                    <li><a href="#">Configuración</a></li>
                </ul>
            </nav>
            
            <!--Formulario de Suscripción-->
            <section>
                <h3> Suscríbete a nuestro Newsletter</h3>
                <form>
                    <input type="email" placeholder="Tu correo electrónico" required>
                    <button type="submit"> Suscribirse</button>
                </form>
            </section>
        </aside>
        
        <!--Contenido Principal-->
        <main>
            <h2>últimas Películas Agregadas</h2>
            <article class="pelicula" data-titulo="When The Wind Blows" data-director="Jimmy T. Murakami" data-año="1986" data-sinopsis="Una pareja de ancianos británicos intenta sobrevivir a los efectos de un ataque nuclear, siguiendo las instrucciones del gobierno." data-imagen="imagenes/fondos/when-the-wind-blows.webp</articleclass>
                <img src="imagenes/fondos/when-the-wind-blows.webp" alt="When The Wind Blows">
                <h3>When The Wind Blows</h3>
                <p>Director:Jimmy T. Murakami</p>
            </article>
            <article>
                <h3> </h3>
                <p>Director: </p>
            </article>
            <article> 
                <h3> </h3>
                <p>Director: </p>
            </article>
        </main>

    </div>

    <!--Pie de Página-->
    <footer>
        <p>© 2025 FilmZone. Todos los Derechos Reservados</p>
        <a href="https://instagram.com/FilmZone" target="_blank">Instagram</a>
    </footer>
    
    <!-- Modal (ventana emergente) -->
<div id="modal" class="modal">
    <div class="modal-contenido">
        <span class="cerrar">&times;</span>
        <img id="modal-imagen" src="" alt="Póster de película">
        <h2 id="modal-titulo"></h2>
        <p id="modal-info"></p>
        <button class="cerrar-btn">Cerrar</button>
    </div>
</div>
<script>
    // Seleccionamos elementos
    const peliculas = document.querySelectorAll('.pelicula');
    const modal = document.getElementById('modal');
    const modalImagen = document.getElementById('modal-imagen');
    const modalTitulo = document.getElementById('modal-titulo');
    const modalInfo = document.getElementById('modal-info');
    const cerrarBtn = document.querySelector('.cerrar-btn');
    const cerrarX = document.querySelector('.cerrar');

    // Función para abrir el modal
    function abrirModal(pelicula) {
        // Obtenemos datos de la película
        const titulo = pelicula.getAttribute('data-titulo');
        const director = pelicula.getAttribute('data-director');
        const año = pelicula.getAttribute('data-año');
        const sinopsis = pelicula.getAttribute('data-sinopsis');
        const imagen = pelicula.getAttribute('data-imagen');

        // Llenamos el modal
        modalImagen.src = imagen;
        modalImagen.alt = titulo;
        modalTitulo.textContent = titulo;
        modalInfo.innerHTML = `
            <strong>Director:</strong> ${director}<br>
            <strong>Año:</strong> ${año}<br><br>
            <strong>Sinopsis:</strong><br>
            ${sinopsis}
        `;

        // Mostramos el modal con animación
        modal.style.display = 'block';
        // Forzamos un reflow para que la transición funcione
        void modal.offsetWidth;
        modal.classList.add('mostrar');
    }

    // Asignamos evento clic a cada película
    peliculas.forEach(pelicula => {
        pelicula.addEventListener('click', () => {
            abrirModal(pelicula);
        });
    });

    // Función para cerrar
    function cerrarModal() {
        modal.classList.remove('mostrar');
        setTimeout(() => {
            modal.style.display = 'none';
        }, 300); // Debe coincidir con la transición CSS (0.3s = 300ms)
    }

    // Cerrar con botón, X o clic fuera
    if (cerrarBtn) cerrarBtn.addEventListener('click', cerrarModal);
    if (cerrarX) cerrarX.addEventListener('click', cerrarModal);
    window.addEventListener('click', (event) => {
        if (event.target === modal) {
            cerrarModal();
        }
    });
</script>
</body>
</html>